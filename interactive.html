<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interactive Tools - Pixel Art Portfolio</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Same styles from your main page -->
    <style>
      @import url("https://fonts.googleapis.com/css2?family=VT323&family=Press+Start+2P&display=swap");

      :root {
        --primary: #4834d4;
        --secondary: #686de0;
        --accent: #eb4d4b;
        --background: #130f40;
        --window-bg: #30336b;
        --text: #dff9fb;
        --pixel-size: 2px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background-color: var(--background);
        color: var(--text);
        font-family: "VT323", monospace;
        font-size: 18px;
        overflow-x: hidden;
      }

      /* Pixel effect */
      .pixel-corners {
        clip-path: polygon(
          0px calc(100% - var(--pixel-size)),
          var(--pixel-size) calc(100% - var(--pixel-size)),
          var(--pixel-size) 100%,
          calc(100% - var(--pixel-size)) 100%,
          calc(100% - var(--pixel-size)) calc(100% - var(--pixel-size)),
          100% calc(100% - var(--pixel-size)),
          100% var(--pixel-size),
          calc(100% - var(--pixel-size)) var(--pixel-size),
          calc(100% - var(--pixel-size)) 0px,
          var(--pixel-size) 0px,
          var(--pixel-size) var(--pixel-size),
          0px var(--pixel-size)
        );
      }

      /* Navbar */
      nav {
        background-color: var(--primary);
        padding: 1.5rem 2rem;
        height: auto;
        min-height: 70px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        width: 100%;
        z-index: 100;
      }

      .logo {
        font-family: "Press Start 2P", cursive;
        font-size: 1.2rem;
        letter-spacing: 1px;
        color: var(--accent);
        text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.5);
      }

      .nav-links {
        display: none;
        flex-direction: column;
        background-color: var(--primary);
        position: absolute;
        top: 100%;
        right: 0;
        left: 0;
        padding: 1rem;
        z-index: 100;
        border-bottom: 3px solid var(--accent);
      }

      .nav-links.show {
        display: flex;
      }

      .nav-links a {
        color: var(--text);
        text-decoration: none;
        font-size: 1.2rem;
        text-align: center;
        padding: 0.8rem 0;
      }

      .nav-links a:hover {
        color: var(--accent);
      }

      .nav-links a::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 2px;
        bottom: -5px;
        left: 0;
        background-color: var(--accent);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.3s;
      }

      .nav-links a:hover::after {
        transform: scaleX(1);
      }

      /* Hero Section */
      .hero {
        height: 50vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
        padding-top: 60px;
      }

      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
          to bottom,
          transparent,
          transparent 2px,
          rgba(255, 255, 255, 0.03) 2px,
          rgba(255, 255, 255, 0.03) 4px
        );
        pointer-events: none;
        z-index: 1;
      }

      .hero-content {
        text-align: center;
        z-index: 2;
      }

      .pixel-art {
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><rect width="10" height="10" fill="%234834d4" opacity="0.1"/><rect x="10" y="10" width="10" height="10" fill="%234834d4" opacity="0.1"/></svg>');
        background-repeat: repeat;
        opacity: 0.8;
      }

      .parallax-stars {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform: translateZ(-1px) scale(2);
        z-index: 0;
      }

      .star {
        position: absolute;
        background-color: white;
        border-radius: 50%;
        animation: twinkle 2s infinite alternate;
      }

      @keyframes twinkle {
        0% {
          opacity: 0.3;
        }
        100% {
          opacity: 1;
        }
      }

      h1 {
        font-family: "Press Start 2P", cursive;
        font-size: 2.5rem;
        margin-bottom: 1rem;
        text-shadow: 3px 3px 0 var(--primary);
        letter-spacing: 2px;
        animation: glitch 5s infinite;
      }

      .subtitle {
        font-size: 1.5rem;
        margin-bottom: 2rem;
        opacity: 0.8;
      }

      .cta-btn {
        background-color: var(--accent);
        color: white;
        font-family: "Press Start 2P", cursive;
        font-size: 1rem;
        padding: 0.8rem 1.5rem;
        border: none;
        text-decoration: none;
        display: inline-block;
        position: relative;
        overflow: hidden;
        transition: transform 0.2s;
      }

      .cta-btn:hover {
        transform: translateY(-5px);
      }

      .cta-btn::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: 0.5s;
      }

      .cta-btn:hover::after {
        left: 100%;
      }

      /* Section styles */
      section {
        padding: 5rem 2rem;
      }

      .section-title {
        font-family: "Press Start 2P", cursive;
        font-size: 2rem;
        color: var(--accent);
        margin-bottom: 3rem;
        text-align: center;
      }

      .section-title::after {
        content: "";
        display: block;
        width: 100%;
        height: 4px;
        background-color: var(--accent);
        margin-top: 10px;
      }

      /* Windows Section for About */
      .windows-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }

      .window {
        background-color: var(--window-bg);
        width: 100%;
        border: 4px solid var(--primary);
        transform-style: preserve-3d;
        transition: transform 0.5s;
        margin-bottom: 2rem;
      }

      .window:hover {
        transform: translateZ(20px);
      }

      .window-header {
        background-color: var(--primary);
        padding: 0.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .window-title {
        font-family: "Press Start 2P", cursive;
        font-size: 0.9rem;
        color: white;
      }

      .window-controls {
        display: flex;
        gap: 5px;
      }

      .control {
        width: 15px;
        height: 15px;
        border-radius: 50%;
      }

      .control:nth-child(1) {
        background-color: #ff5f56;
      }

      .control:nth-child(2) {
        background-color: #ffbd2e;
      }

      .control:nth-child(3) {
        background-color: #27c93f;
      }

      .window-content {
        padding: 1.5rem;
        position: relative;
        overflow: hidden;
      }

      .window-content::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: repeating-linear-gradient(
          45deg,
          transparent,
          transparent 10px,
          rgba(255, 255, 255, 0.05) 10px,
          rgba(255, 255, 255, 0.05) 20px
        );
        pointer-events: none;
      }

      /* Footer */
      footer {
        background-color: var(--primary);
        padding: 2rem;
        text-align: center;
      }

      .social-icons {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-bottom: 1.5rem;
      }

      .social-icons a {
        color: var(--text);
        font-size: 1.5rem;
        transition: color 0.3s;
      }

      .social-icons a:hover {
        color: var(--accent);
      }

      .copyright {
        font-size: 1rem;
        opacity: 0.8;
      }

      /* Animation Keyframes */
      @keyframes glitch {
        0% {
          text-shadow: 3px 3px 0 var(--primary);
        }
        2% {
          text-shadow: -3px -3px 0 var(--accent);
        }
        4% {
          text-shadow: 3px 3px 0 var(--primary);
        }
        50% {
          text-shadow: 3px 3px 0 var(--primary);
        }
        52% {
          text-shadow: -5px -1px 0 var(--accent);
        }
        54% {
          text-shadow: 3px 3px 0 var(--primary);
        }
        100% {
          text-shadow: 3px 3px 0 var(--primary);
        }
      }

      /* Scroll Animations */
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.8s, transform 0.8s;
      }

      .fade-in.active {
        opacity: 1;
        transform: translateY(0);
      }

      /* Interactive page specific */
      .interactive-tabs {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .tab-btn {
        background-color: var(--window-bg);
        color: var(--text);
        border: 2px solid var(--primary);
        padding: 0.8rem 1.5rem;
        font-family: "Press Start 2P", cursive;
        font-size: 0.9rem;
        cursor: pointer;
      }

      .tab-btn.active {
        background-color: var(--accent);
        border-color: var(--accent);
      }

      .tab-content {
        display: none;
        animation: fadeIn 0.5s ease-in-out;
      }

      .tab-content.active {
        display: block;
      }

      .interactive-description {
        max-width: 700px;
        margin: 0 auto 3rem auto;
        text-align: center;
        line-height: 1.6;
      }

      /* Responsive */
      @media (max-width: 768px) {
        h1 {
          font-size: 1.8rem;
        }

        .nav-links {
          display: none;
        }
      }

      /* Responsive toggle wrapper */
      @media (max-width: 768px) {
        .mode-toggle-wrapper {
          max-width: 200px;
          margin-right: 0;
        }

        .mode-label {
          font-size: 0.5rem;
          max-width: 60px;
          text-align: center;
          line-height: 1.2;
        }

        .nav {
          padding: 1.5rem 1rem;
        }

        .logo {
          font-size: 1rem;
          max-width: 120px;
        }

        .hero {
          padding-top: 100px;
          height: 40vh;
        }

        .tab-btn {
          width: 90%;
          font-size: 0.7rem;
          padding: 0.6rem 1rem;
        }

        .interactive-description {
          padding-top: 1rem;
        }
      }

      /* Even smaller screens */
      @media (max-width: 480px) {
        .mode-toggle-wrapper {
          max-width: 170px;
        }

        .mode-label {
          font-size: 0.4rem;
          max-width: 45px;
        }

        .logo {
          font-size: 0.9rem;
          max-width: 100px;
        }
      }

      /* Avatar Generator Styles */
      .avatar-vertical-wrapper {
        max-width: 550px;
        margin: 0 auto;
        text-align: center;
      }

      .avatar-vertical-layout {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 25px;
      }

      .avatar-preview {
        margin-bottom: 30px;
        padding: 15px;
        background-color: rgba(0, 0, 0, 0.2);
        border: 3px solid var(--primary);
      }

      #avatarCanvas {
        image-rendering: pixelated;
        image-rendering: crisp-edges;
        background-color: var(--primary);
        width: 180px;
        height: 180px;
      }

      .avatar-options {
        width: 100%;
      }

      .option-row {
        margin-bottom: 20px;
        text-align: left;
      }

      .option-label {
        font-family: "Press Start 2P", cursive;
        font-size: 0.9rem;
        margin-bottom: 12px;
        color: var(--text);
      }

      .option-buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        justify-content: flex-start;
      }

      .color-btn {
        width: 35px;
        height: 35px;
        border: 2px solid var(--text);
        cursor: pointer;
      }

      .color-btn.active {
        border: 2px solid var(--accent);
        transform: scale(1.1);
      }

      .style-btn {
        background-color: var(--window-bg);
        color: var(--text);
        border: 2px solid var(--primary);
        padding: 8px 15px;
        font-family: "VT323", monospace;
        font-size: 1.1rem;
      }

      .style-btn.active {
        background-color: var(--accent);
        border-color: var(--accent);
      }

      .action-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 25px;
        text-align: center;
      }

      .action-buttons .cta-btn {
        padding: 10px 20px;
        font-size: 1.1rem;
        min-width: 140px;
      }

      /* Terminal Styles */
      .terminal-wrapper {
        max-width: 800px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .terminal-container {
        width: 100%;
        height: 400px;
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        border: 1px solid #444;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
      }

      .terminal_toolbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 30px;
        padding: 0 8px;
        background-color: #000000;
        border-bottom: 1px solid #444;
      }

      .terminal_title {
        color: #ffffff;
        font-family: "VT323", monospace;
        font-size: 14px;
        text-align: left;
      }

      .terminal_controls {
        display: flex;
        gap: 6px;
      }

      .terminal_controls .control {
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }

      .red {
        background-color: #e74c3c;
      }

      .yellow {
        background-color: #f1c40f;
      }

      .green {
        background-color: #2ecc71;
      }

      .terminal_body {
        background-color: #0c0c0c;
        height: calc(100% - 30px);
        padding: 15px;
        overflow-y: auto;
        font-family: "Consolas", "VT323", monospace;
        color: #00ff00;
        text-align: left;
      }

      .terminal_line {
        line-height: 1.5;
        margin-bottom: 5px;
        text-align: left;
      }

      .terminal_text {
        color: #00ff00;
        white-space: pre-wrap;
        text-align: left;
      }

      .terminal_prompt {
        display: flex;
        align-items: center;
        margin-top: 10px;
      }

      .terminal_path {
        color: #00ff00;
        margin-right: 0;
      }

      .input-container {
        position: relative;
        display: inline-flex;
        min-width: 1px;
        flex-grow: 1;
      }

      .terminal_input {
        background: transparent;
        color: #00ff00;
        outline: none;
        border: none;
        caret-color: transparent; /* Hide default cursor */
        min-width: 1px;
        flex-grow: 1;
        font-family: "Consolas", "VT323", monospace;
        font-size: inherit;
        text-align: left;
        padding: 0;
        margin: 0;
        position: relative;
        z-index: 1;
      }

      .terminal_cursor {
        display: inline-block;
        width: 8px;
        height: 15px;
        background: #00ff00;
        position: absolute;
        top: 2px;
        left: 0;
        animation: blink 1s step-end infinite;
        z-index: 0;
      }

      @keyframes blink {
        50% {
          opacity: 0;
        }
      }

      .terminal_error {
        color: #ff0000;
      }

      .terminal_success {
        color: #00ff00;
      }

      .terminal_warning {
        color: #ffff00;
      }

      .ascii-art {
        color: #00ff00;
        white-space: pre;
      }

      /* Theme styles for terminal */
      .theme-blue .terminal_toolbar {
        background: #4878c0;
      }
      .theme-blue .terminal_body {
        background: #223a5e;
      }

      .theme-green .terminal_toolbar {
        background: #27c93f;
      }
      .theme-green .terminal_body {
        background: #0f3f1a;
      }

      .theme-pink .terminal_toolbar {
        background: #ff6b9d;
      }
      .theme-pink .terminal_body {
        background: #5f2e44;
      }

      .theme-orange .terminal_toolbar {
        background: #ff9f43;
      }
      .theme-orange .terminal_body {
        background: #994f15;
      }

      /* toggle */
      .toggle-container {
        --knob-size: 1.75em;
        display: flex;
        justify-content: center;
        position: relative;
      }

      .toggle-input {
        position: absolute;
        z-index: 2;
        bottom: 132.5%;
        border-radius: 50%;
        transform: rotate(-25deg);
        transform-origin: 50% 4.75em;
        width: var(--knob-size);
        height: var(--knob-size);
        opacity: 0;
        /* fix em sizing */
        font: inherit;
        transition: transform 0.24s cubic-bezier(0.65, 1.35, 0.5, 1);
        cursor: pointer;
      }

      .toggle-input:checked {
        transform: rotate(25deg);
      }

      .toggle-handle-wrapper {
        position: absolute;
        z-index: 1;
        bottom: -135%;
        -webkit-mask-image: linear-gradient(
          to bottom,
          #000 62.125%,
          transparent 50%
        );
        mask-image: linear-gradient(to bottom, #000 62.125%, transparent 50%);
        width: 200%;
        overflow: hidden;
      }

      .toggle-handle {
        display: flex;
        flex-direction: column;
        align-items: center;
        transform: rotate(-25deg);
        transform-origin: bottom center;
        transition: transform 0.24s cubic-bezier(0.65, 1.35, 0.5, 1);
      }

      .toggle-input:checked + .toggle-handle-wrapper > .toggle-handle {
        transform: rotate(25deg);
      }

      .toggle-handle-knob {
        position: relative;
        z-index: 1;
        border-radius: 50%;
        width: var(--knob-size);
        height: var(--knob-size);
        background-image: radial-gradient(
          farthest-corner at 70% 30%,
          #fedee2 4%,
          #d63534 12% 24%,
          #a81a1a 50% 65%,
          #d63534 75%
        );
        transition: transform 0.24s cubic-bezier(0.65, 1.35, 0.5, 1);
      }

      .toggle-input:checked + .toggle-handle-wrapper .toggle-handle-knob {
        transform: rotate(-90deg);
      }

      /* toggle handle knob hover inner shadow */
      .toggle-handle-knob::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        border-radius: inherit;
        width: 100%;
        height: 100%;
        box-shadow: inset 0 0 8px 2px rgb(255 255 255 / 0.4);
        opacity: 0;
        transition: opacity 0.2s;
      }

      @media (hover: hover) {
        .toggle-input:hover + .toggle-handle-wrapper .toggle-handle-knob::after,
        .toggle-input:focus-visible
          + .toggle-handle-wrapper
          .toggle-handle-knob::after {
          opacity: 1;
        }
      }

      .toggle-handle-bar-wrapper {
        position: relative;
        width: 0.5em;
        height: 3em;
      }

      .toggle-handle-bar {
        position: absolute;
        top: calc(var(--knob-size) / 2 * -1);
        left: 0;
        width: 100%;
        height: calc(100% + var(--knob-size) / 2);
        background-image: linear-gradient(
          to right,
          #777475,
          #a4a4a4,
          #fff 45% 55%,
          #a4a4a4,
          #777475
        );
        background-position-x: 0.06125em;
        transition: background-position-x 0.24s cubic-bezier(0.65, 1.35, 0.5, 1);
        box-shadow: inset 0 1em 0.25em rgb(0 0 0 / 0.4);
      }

      .toggle-input:checked + .toggle-handle-wrapper .toggle-handle-bar {
        background-position-x: -0.06125em;
      }

      .toggle-base {
        position: relative;
        border-radius: 3.125em;
        padding: 0.25em;
        width: 3.5em;
        height: 1.125em;
        background-color: #fff;
        background-image: linear-gradient(to bottom, #fff, #d7d7d7);
        box-shadow: 0 -0.25em 0.5em #fff, 0 0.25em 0.5em #d7d7d7;
      }

      .toggle-base-inside {
        position: relative;
        border-radius: inherit;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(to bottom, #a6a6a6, #7d7d7d);
        box-shadow: inset 0 0.0625em rgb(255 255 255 / 0.2),
          inset 0 -0.03125em rgb(255 255 255 / 1),
          inset 0 -0.0625em 0.25em rgb(0 0 0 / 0.1);
      }

      /* toggle base inside active */
      .toggle-base-inside::after {
        content: "";
        position: absolute;
        border-radius: inherit;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(to bottom, #5ab054, #438c3c);
        box-shadow: inherit;
        opacity: 0;
        transition: opacity 0.24s cubic-bezier(0.65, 1.35, 0.5, 1);
      }

      .toggle-input:checked ~ .toggle-base .toggle-base-inside::after {
        opacity: 1;
      }
      .mode-toggle-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        position: relative;
        width: 260px;
      }

      .mode-label {
        font-family: "Press Start 2P", cursive;
        font-size: 0.6rem;
        color: var(--text);
        white-space: normal;
        text-align: center;
        line-height: 1.2;
        width: 80px;
      }
      .menu-toggle {
        display: flex;
        width: 24px;
        height: 20px;
        position: relative;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 200;
      }

      .menu-toggle span {
        position: absolute;
        width: 100%;
        height: 3px;
        background-color: var(--text);
        transition: 0.4s ease;
      }

      .menu-toggle span:nth-child(1) {
        top: 0;
      }

      .menu-toggle span:nth-child(2) {
        top: 50%;
        transform: translateY(-50%);
      }

      .menu-toggle span:nth-child(3) {
        bottom: 0;
      }

      .menu-toggle.active span:nth-child(1) {
        transform: rotate(45deg);
        top: 50%;
      }

      .menu-toggle.active span:nth-child(2) {
        opacity: 0;
      }

      .menu-toggle.active span:nth-child(3) {
        transform: rotate(-45deg);
        bottom: auto;
        top: 50%;
      }

      @media (max-width: 768px) {
        nav {
          padding: 1rem 1.5rem;
        }

        .logo {
          font-size: 1rem;
        }

        .mode-label {
          font-size: 0.5rem;
          width: 70px;
        }

        .mode-toggle-wrapper {
          width: 220px;
          transform: scale(0.75);
        }

        /* Fix the top padding of content sections */
        .hero,
        header {
          padding-top: 100px;
        }
      }

      @media (max-width: 767px) {
        /* Interactive page toggle specific fixes */
        .mode-toggle-wrapper {
          position: absolute;
          top: 80px; /* Below navbar */
          left: 50%;
          transform: translateX(-50%);
          padding: 8px 15px;
          border-radius: 20px;
          z-index: 90;
          width: auto;
          max-width: 280px;
          background-color: rgba(72, 52, 212, 0.7);
          border: 2px solid var(--accent);
          box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
        }

        .mode-label {
          font-size: 0.55rem;
          line-height: 1.2;
          text-align: center;
          width: 80px;
          white-space: normal; /* Enable text wrapping */
          display: inline-block; /* Ensure block behavior */
          overflow: visible; /* Prevent text cutoff */
          padding: 0 5px;
        }

        .toggle-container {
          transform: scale(0.8);
          margin: 0 5px;
        }

        /* Add space below the toggle for content */
        .hero {
          padding-top: 145px !important;
        }

        .hero h1 {
          margin-top: 70px; /* Push the title down */
        }
      }

      @media (max-width: 480px) {
        .logo {
          font-size: 0.9rem;
        }

        .mode-toggle-wrapper {
          width: 200px;
          transform: translateX(-50%) scale(0.95);
        }

        .mode-label {
          font-size: 0.45rem;
          max-width: 70px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="logo">PORTFOLIO</div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="index.html#about">About</a>
        <a href="index.html#projects">Projects</a>
        <a href="interactive.html">Interactive</a>
        <a href="data.html">Data Projects</a>
        <a href="index.html#contact">Contact</a>
      </div>
      <div class="mode-toggle-wrapper">
        <span class="mode-label">Coding Stuff</span>
        <div class="toggle-container" title="Switch Mode">
          <input class="toggle-input" type="checkbox" id="modeToggle" />
          <div class="toggle-handle-wrapper">
            <div class="toggle-handle">
              <div class="toggle-handle-knob"></div>
              <div class="toggle-handle-bar-wrapper">
                <div class="toggle-handle-bar"></div>
              </div>
            </div>
          </div>
          <div class="toggle-base">
            <div class="toggle-base-inside"></div>
          </div>
        </div>
        <span class="mode-label">Normal Me Stuff</span>
      </div>
      <div class="menu-toggle" id="menuToggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
      <div class="pixel-art"></div>
      <div class="parallax-stars" id="stars"></div>
      <div class="hero-content">
        <h1>INTERACTIVE TOOLS</h1>
        <p class="subtitle">Create & Explore</p>
      </div>
    </section>

    <!-- Interactive Section -->
    <section id="interactive">
      <div class="interactive-description">
        <p>
          Welcome to my interactive playground! Here you can generate your own
          pixel art avatar or explore using a terminal interface. These tools
          showcase my passion for creating engaging web experiences with
          JavaScript.
        </p>
      </div>

      <!-- Interactive Tabs -->
      <div class="interactive-tabs">
        <button class="tab-btn pixel-corners active" data-tab="avatar">
          PIXEL AVATAR GENERATOR
        </button>
        <button class="tab-btn pixel-corners" data-tab="terminal">
          TERMINAL
        </button>
      </div>

      <!-- Tab Content Containers -->
      <div id="avatar-tab" class="tab-content active">
        <!-- Pixel Avatar Generator Section -->
        <div id="avatar-generator">
          <h2 class="section-title">PIXEL AVATAR GENERATOR</h2>
          <div class="avatar-vertical-wrapper">
            <div class="window pixel-corners fade-in">
              <div class="window-header">
                <div class="window-title">avatar.exe</div>
                <div class="window-controls">
                  <div class="control"></div>
                  <div class="control"></div>
                  <div class="control"></div>
                </div>
              </div>
              <div class="window-content">
                <div class="avatar-vertical-layout">
                  <!-- Canvas Container -->
                  <div class="avatar-preview">
                    <canvas
                      id="avatarCanvas"
                      width="160"
                      height="160"
                      class="pixel-corners"
                    ></canvas>
                  </div>

                  <!-- Controls Container -->
                  <div class="avatar-options">
                    <div class="option-row">
                      <div class="option-label">SKIN COLOR:</div>
                      <div class="option-buttons">
                        <button
                          class="color-btn pixel-corners"
                          data-type="skin"
                          data-color="#ffdbac"
                          style="background-color: #ffdbac"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="skin"
                          data-color="#f1c27d"
                          style="background-color: #f1c27d"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="skin"
                          data-color="#e0ac69"
                          style="background-color: #e0ac69"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="skin"
                          data-color="#c68642"
                          style="background-color: #c68642"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="skin"
                          data-color="#8d5524"
                          style="background-color: #8d5524"
                        ></button>
                      </div>
                    </div>

                    <div class="option-row">
                      <div class="option-label">HAIR COLOR:</div>
                      <div class="option-buttons">
                        <button
                          class="color-btn pixel-corners"
                          data-type="hair"
                          data-color="#090806"
                          style="background-color: #090806"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="hair"
                          data-color="#a52a2a"
                          style="background-color: #a52a2a"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="hair"
                          data-color="#d4a373"
                          style="background-color: #d4a373"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="hair"
                          data-color="#dbc792"
                          style="background-color: #dbc792"
                        ></button>
                        <button
                          class="color-btn pixel-corners"
                          data-type="hair"
                          data-color="#708090"
                          style="background-color: #708090"
                        ></button>
                      </div>
                    </div>

                    <div class="option-row">
                      <div class="option-label">HAIR STYLE:</div>
                      <div class="option-buttons">
                        <button
                          class="style-btn pixel-corners"
                          data-type="hairstyle"
                          data-style="1"
                        >
                          Style 1
                        </button>
                        <button
                          class="style-btn pixel-corners"
                          data-type="hairstyle"
                          data-style="2"
                        >
                          Style 2
                        </button>
                        <button
                          class="style-btn pixel-corners"
                          data-type="hairstyle"
                          data-style="3"
                        >
                          Style 3
                        </button>
                      </div>
                    </div>

                    <div class="option-row">
                      <div class="option-label">GLASSES:</div>
                      <div class="option-buttons">
                        <button
                          class="style-btn pixel-corners"
                          data-type="glasses"
                          data-style="none"
                        >
                          None
                        </button>
                        <button
                          class="style-btn pixel-corners"
                          data-type="glasses"
                          data-style="round"
                        >
                          Round
                        </button>
                        <button
                          class="style-btn pixel-corners"
                          data-type="glasses"
                          data-style="square"
                        >
                          Square
                        </button>
                      </div>
                    </div>

                    <div class="option-row action-buttons">
                      <button id="randomizeBtn" class="cta-btn pixel-corners">
                        RANDOMIZE
                      </button>
                      <button id="downloadBtn" class="cta-btn pixel-corners">
                        DOWNLOAD
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="terminal-tab" class="tab-content">
        <!-- Terminal Section -->
        <div id="terminal-section">
          <h2 class="section-title">TERMINAL</h2>
          <div class="terminal-wrapper">
            <div class="terminal-container pixel-corners fade-in">
              <div class="terminal_toolbar">
                <span class="terminal_title">Command Prompt</span>
                <div class="terminal_controls">
                  <span class="control red"></span>
                  <span class="control yellow"></span>
                  <span class="control green"></span>
                </div>
              </div>
              <div class="terminal_body">
                <div id="terminal-output">
                  <!-- Terminal output will be added here via JavaScript -->
                </div>
                <div class="terminal_prompt">
                  <span class="terminal_path">C:\Users\visitor></span>
                  <div class="input-container">
                    <span
                      class="terminal_input"
                      id="terminal-input"
                      contenteditable="true"
                      spellcheck="false"
                    ></span>
                    <span class="terminal_cursor"></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="social-icons">
        <a
          href="https://github.com/malavikaswapna"
          target="_blank"
          title="GitHub Profile"
          ><i class="fab fa-github"></i
        ></a>
        <a
          href="https://www.linkedin.com/in/malavika-swapana-321b92283"
          target="_blank"
          title="LinkedIn Profile"
          ><i class="fab fa-linkedin"></i
        ></a>
      </div>
      <p class="copyright">
        © 2025 | Created with <span style="color: var(--accent)">♥</span> and
        pixels
      </p>
    </footer>

    <script>
      function toggleMenu() {
        const navLinks = document.querySelector(".nav-links");
        const burger = document.getElementById("menuToggle");
        navLinks.classList.toggle("show");
        burger.classList.toggle("active");
      }

      document.addEventListener("DOMContentLoaded", function () {
        const menuToggle = document.getElementById("menuToggle");
        if (menuToggle) {
          menuToggle.addEventListener("click", toggleMenu);
        }
      });

      // Handle toggle redirect
      document
        .getElementById("modeToggle")
        .addEventListener("change", function () {
          if (this.checked) {
            window.location.href = "normal.html";
          } else {
            window.location.href = "index.html";
          }
        });

      // Auto-toggle checked if on the normal page
      if (window.location.pathname.includes("normal.html")) {
        document.addEventListener("DOMContentLoaded", () => {
          document.getElementById("modeToggle").checked = true;
        });
      }
      // Tab Functionality
      document.addEventListener("DOMContentLoaded", function () {
        const tabButtons = document.querySelectorAll(".tab-btn");
        const tabContents = document.querySelectorAll(".tab-content");

        tabButtons.forEach((button) => {
          button.addEventListener("click", function () {
            const tabId = this.getAttribute("data-tab");

            // Remove active class from all buttons and contents
            tabButtons.forEach((btn) => btn.classList.remove("active"));
            tabContents.forEach((content) =>
              content.classList.remove("active")
            );

            // Add active class to clicked button and corresponding content
            this.classList.add("active");
            document.getElementById(tabId + "-tab").classList.add("active");
          });
        });

        // Stars animation
        createStars();
      });

      // Create stars
      function createStars() {
        const stars = document.getElementById("stars");
        if (!stars) return;

        const count = 100;

        for (let i = 0; i < count; i++) {
          const star = document.createElement("div");
          star.classList.add("star");

          // Random positions
          const x = Math.random() * 100;
          const y = Math.random() * 100;

          // Random size
          const size = Math.random() * 3 + 1;

          // Random animation delay
          const delay = Math.random() * 2;

          star.style.left = `${x}%`;
          star.style.top = `${y}%`;
          star.style.width = `${size}px`;
          star.style.height = `${size}px`;
          star.style.animationDelay = `${delay}s`;

          stars.appendChild(star);
        }
      }

      // Scroll animations
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("active");
            }
          });
        },
        { threshold: 0.1 }
      );

      document.querySelectorAll(".fade-in").forEach((element) => {
        observer.observe(element);
      });

      // Avatar Generator Code
      document.addEventListener("DOMContentLoaded", function () {
        const canvas = document.getElementById("avatarCanvas");
        const ctx = canvas.getContext("2d");
        const pixelSize = 9; // Slightly larger pixels
        const gridSize = canvas.width / pixelSize; // 20x20 grid

        // Default avatar settings
        const avatarState = {
          skinColor: "#ffdbac",
          hairColor: "#090806",
          hairStyle: "1",
          glasses: "none",
        };

        // Helper function to draw a pixel
        function drawPixel(x, y, color) {
          ctx.fillStyle = color;
          ctx.fillRect(x * pixelSize, y * pixelSize, pixelSize, pixelSize);
        }

        // Clear the canvas
        function clearCanvas() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // Draw the avatar
        function drawAvatar() {
          clearCanvas();

          // Draw background
          ctx.fillStyle = "#4834d4";
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          // Draw face
          for (let y = 5; y < 15; y++) {
            for (let x = 5; x < 15; x++) {
              // Create a rounded face shape
              if (
                ((y === 5 || y === 14) && x >= 7 && x <= 12) ||
                ((x === 5 || x === 14) && y >= 7 && y <= 12) ||
                ((y === 6 || y === 13) && x >= 6 && x <= 13) ||
                ((x === 6 || x === 13) && y >= 6 && y <= 13) ||
                (y >= 7 && y <= 12 && x >= 7 && x <= 12)
              ) {
                drawPixel(x, y, avatarState.skinColor);
              }
            }
          }

          // Draw eyes
          drawPixel(8, 9, "#000000");
          drawPixel(11, 9, "#000000");

          // Draw mouth
          drawPixel(9, 12, "#000000");
          drawPixel(10, 12, "#000000");

          // Draw hair based on style
          drawHair();

          // Draw glasses if selected
          if (avatarState.glasses !== "none") {
            drawGlasses();
          }
        }

        // Draw hair based on selected style
        function drawHair() {
          switch (avatarState.hairStyle) {
            case "1":
              // Basic short hair
              for (let x = 5; x < 15; x++) {
                drawPixel(x, 4, avatarState.hairColor);
              }
              for (let y = 5; y < 7; y++) {
                drawPixel(4, y, avatarState.hairColor);
                drawPixel(15, y, avatarState.hairColor);
              }
              break;
            case "2":
              // Medium length hair
              for (let x = 4; x < 16; x++) {
                drawPixel(x, 4, avatarState.hairColor);
              }
              for (let y = 5; y < 9; y++) {
                drawPixel(4, y, avatarState.hairColor);
                drawPixel(15, y, avatarState.hairColor);
              }
              for (let x = 4; x < 7; x++) {
                drawPixel(x, 9, avatarState.hairColor);
              }
              for (let x = 13; x < 16; x++) {
                drawPixel(x, 9, avatarState.hairColor);
              }
              break;
            case "3":
              // Longer hair
              for (let x = 4; x < 16; x++) {
                drawPixel(x, 4, avatarState.hairColor);
              }
              for (let y = 5; y < 12; y++) {
                drawPixel(4, y, avatarState.hairColor);
                drawPixel(15, y, avatarState.hairColor);
              }
              for (let x = 4; x < 7; x++) {
                drawPixel(x, 12, avatarState.hairColor);
              }
              for (let x = 13; x < 16; x++) {
                drawPixel(x, 12, avatarState.hairColor);
              }
              break;
          }
        }

        // Draw glasses based on selected style
        function drawGlasses() {
          const glassesColor = "#000000";

          if (avatarState.glasses === "round") {
            // Round glasses
            drawPixel(7, 8, glassesColor);
            drawPixel(8, 8, glassesColor);
            drawPixel(9, 8, glassesColor);
            drawPixel(10, 8, glassesColor);
            drawPixel(11, 8, glassesColor);
            drawPixel(12, 8, glassesColor);

            drawPixel(7, 10, glassesColor);
            drawPixel(8, 10, glassesColor);
            drawPixel(9, 10, glassesColor);
            drawPixel(10, 10, glassesColor);
            drawPixel(11, 10, glassesColor);
            drawPixel(12, 10, glassesColor);

            drawPixel(7, 9, glassesColor);
            drawPixel(12, 9, glassesColor);

            // Bridge
            drawPixel(9, 9, glassesColor);
            drawPixel(10, 9, glassesColor);
          } else if (avatarState.glasses === "square") {
            // Square glasses
            for (let x = 7; x <= 9; x++) {
              drawPixel(x, 8, glassesColor);
              drawPixel(x, 10, glassesColor);
            }
            for (let x = 10; x <= 12; x++) {
              drawPixel(x, 8, glassesColor);
              drawPixel(x, 10, glassesColor);
            }
            drawPixel(7, 9, glassesColor);
            drawPixel(9, 9, glassesColor);
            drawPixel(10, 9, glassesColor);
            drawPixel(12, 9, glassesColor);
          }
        }

        // Initialize controls
        function initControls() {
          // Color buttons
          const colorBtns = document.querySelectorAll(".color-btn");
          colorBtns.forEach((btn) => {
            btn.addEventListener("click", function () {
              const type = this.getAttribute("data-type");
              const color = this.getAttribute("data-color");

              // Update active button
              document
                .querySelectorAll(`.color-btn[data-type="${type}"]`)
                .forEach((b) => {
                  b.classList.remove("active");
                });
              this.classList.add("active");

              // Update state
              if (type === "skin") {
                avatarState.skinColor = color;
              } else if (type === "hair") {
                avatarState.hairColor = color;
              }

              drawAvatar();
            });
          });

          // Style buttons
          const styleBtns = document.querySelectorAll(".style-btn");
          styleBtns.forEach((btn) => {
            btn.addEventListener("click", function () {
              const type = this.getAttribute("data-type");
              const style = this.getAttribute("data-style");

              // Update active button
              document
                .querySelectorAll(`.style-btn[data-type="${type}"]`)
                .forEach((b) => {
                  b.classList.remove("active");
                });
              this.classList.add("active");

              // Update state
              if (type === "hairstyle") {
                avatarState.hairStyle = style;
              } else if (type === "glasses") {
                avatarState.glasses = style;
              }

              drawAvatar();
            });
          });

          // Set initial active buttons
          document
            .querySelector(
              `.color-btn[data-type="skin"][data-color="${avatarState.skinColor}"]`
            )
            .classList.add("active");
          document
            .querySelector(
              `.color-btn[data-type="hair"][data-color="${avatarState.hairColor}"]`
            )
            .classList.add("active");
          document
            .querySelector(
              `.style-btn[data-type="hairstyle"][data-style="${avatarState.hairStyle}"]`
            )
            .classList.add("active");
          document
            .querySelector(
              `.style-btn[data-type="glasses"][data-style="${avatarState.glasses}"]`
            )
            .classList.add("active");

          // Randomize button
          document
            .getElementById("randomizeBtn")
            .addEventListener("click", randomizeAvatar);

          // Download button
          document
            .getElementById("downloadBtn")
            .addEventListener("click", downloadAvatar);
        }

        // Randomize avatar
        function randomizeAvatar() {
          const skinColors = [
            "#ffdbac",
            "#f1c27d",
            "#e0ac69",
            "#c68642",
            "#8d5524",
          ];
          const hairColors = [
            "#090806",
            "#a52a2a",
            "#d4a373",
            "#dbc792",
            "#708090",
          ];
          const hairStyles = ["1", "2", "3"];
          const glassesStyles = ["none", "round", "square"];

          // Random selection
          avatarState.skinColor =
            skinColors[Math.floor(Math.random() * skinColors.length)];
          avatarState.hairColor =
            hairColors[Math.floor(Math.random() * hairColors.length)];
          avatarState.hairStyle =
            hairStyles[Math.floor(Math.random() * hairStyles.length)];
          avatarState.glasses =
            glassesStyles[Math.floor(Math.random() * glassesStyles.length)];

          // Update UI
          document.querySelectorAll(".color-btn, .style-btn").forEach((btn) => {
            btn.classList.remove("active");
          });

          document
            .querySelector(
              `.color-btn[data-type="skin"][data-color="${avatarState.skinColor}"]`
            )
            .classList.add("active");
          document
            .querySelector(
              `.color-btn[data-type="hair"][data-color="${avatarState.hairColor}"]`
            )
            .classList.add("active");
          document
            .querySelector(
              `.style-btn[data-type="hairstyle"][data-style="${avatarState.hairStyle}"]`
            )
            .classList.add("active");
          document
            .querySelector(
              `.style-btn[data-type="glasses"][data-style="${avatarState.glasses}"]`
            )
            .classList.add("active");

          drawAvatar();
        }

        // Download avatar
        function downloadAvatar() {
          const link = document.createElement("a");
          link.download = "pixel-avatar.png";
          link.href = canvas.toDataURL("image/png");
          link.click();
        }

        // Initialize
        drawAvatar();
        initControls();
      });

      // Terminal functionality
      document.addEventListener("DOMContentLoaded", function () {
        const terminalOutput = document.getElementById("terminal-output");
        const terminalInput = document.getElementById("terminal-input");
        const terminalBody = document.querySelector(".terminal_body");
        const terminalContainer = document.querySelector(".terminal-container");

        // Command history
        let commandHistory = [];
        let historyIndex = -1;

        // ASCII Art
        const asciiLogo = `
██████╗ ██╗██╗  ██╗███████╗██╗         
██╔══██╗██║╚██╗██╔╝██╔════╝██║         
██████╔╝██║ ╚███╔╝ █████╗  ██║         
██╔═══╝ ██║ ██╔██╗ ██╔══╝  ██║         
██║     ██║██╔╝ ██╗███████╗███████╗    
╚═╝     ╚═╝╚═╝  ╚═╝╚══════╝╚══════╝    
██████╗  ██████╗ ██████╗ ████████╗███████╗ ██████╗ ██╗     ██╗ ██████╗ 
██╔══██╗██╔═══██╗██╔══██╗╚══██╔══╝██╔════╝██╔═══██╗██║     ██║██╔═══██╗
██████╔╝██║   ██║██████╔╝   ██║   █████╗  ██║   ██║██║     ██║██║   ██║
██╔═══╝ ██║   ██║██╔══██╗   ██║   ██╔══╝  ██║   ██║██║     ██║██║   ██║
██║     ╚██████╔╝██║  ██║   ██║   ██║     ╚██████╔╝███████╗██║╚██████╔╝
╚═╝      ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚═╝      ╚═════╝ ╚══════╝╚═╝ ╚═════╝ 
            `;

        // Initial messages
        const welcomeMessages = [
          {
            text: "Welcome to Logic & Lattes' Portfolio Terminal!",
            type: "terminal_text",
          },
          {
            text: "Type 'help' to see available commands.",
            type: "terminal_text",
          },
        ];

        // Projects data
        const projects = [
          {
            name: "Pixel Art Game",
            description:
              "A retro-style browser game built with JavaScript and Canvas. Features include multiple levels, pixel-perfect collision detection, and a custom physics engine.",
            tech: ["JavaScript", "HTML Canvas", "CSS"],
          },
          {
            name: "Weather Dashboard",
            description:
              "A weather application with a pixel art interface. Uses OpenWeatherMap API to display current weather and forecasts with retro-style animations.",
            tech: ["JavaScript", "REST API", "CSS"],
          },
          {
            name: "Task Tracker",
            description:
              "A productivity app with a retro interface. Built with React and Firebase, features include drag-and-drop task organization and progress tracking.",
            tech: ["React", "Firebase", "CSS"],
          },
        ];

        // Skills data
        const skills = [
          { name: "HTML/CSS", level: 90 },
          { name: "JavaScript", level: 85 },
          { name: "React", level: 80 },
          { name: "Node.js", level: 75 },
          { name: "Python", level: 70 },
        ];

        // Available commands
        const commands = {
          help: {
            description: "Display available commands",
            usage: "help",
            action: function () {
              let output = [];
              output.push({
                text: "Available commands:",
                type: "terminal_text",
              });

              Object.keys(commands).forEach((cmd) => {
                if (cmd !== "clear" && cmd !== "cls") {
                  output.push({
                    text: `  ${cmd.padEnd(12)} - ${commands[cmd].description}`,
                    type: "terminal_text",
                  });
                }
              });

              output.push({ text: "", type: "terminal_text" });
              output.push({
                text: "For more information on a specific command, type: command --help",
                type: "terminal_text",
              });

              return output;
            },
          },
          about: {
            description: "Display information about me",
            usage: "about [--skills]",
            action: function (args) {
              let output = [];

              if (args[0] === "--help") {
                output.push({
                  text: "Usage: about [--skills]",
                  type: "terminal_text",
                });
                output.push({
                  text: "Display information about me.",
                  type: "terminal_text",
                });
                output.push({ text: "Options:", type: "terminal_text" });
                output.push({
                  text: "  --skills    Show my skills",
                  type: "terminal_text",
                });
                return output;
              }

              if (args[0] === "--skills") {
                output.push({ text: "My Skills:", type: "terminal_text" });
                skills.forEach((skill) => {
                  const barLength = 20;
                  const filled = Math.round((skill.level / 100) * barLength);
                  const bar =
                    "█".repeat(filled) + "░".repeat(barLength - filled);
                  output.push({
                    text: `${skill.name.padEnd(12)} [${bar}] ${skill.level}%`,
                    type: "terminal_text",
                  });
                });
              } else {
                output.push({ text: "About Me:", type: "terminal_text" });
                output.push({
                  text: "I'm a computer science graduate with a passion for creating beautiful, functional websites and applications.",
                  type: "terminal_text",
                });
                output.push({
                  text: "With skills in front-end and back-end development, I enjoy turning complex problems into simple, beautiful solutions.",
                  type: "terminal_text",
                });
                output.push({
                  text: "My goal is always to build products that are both visually appealing and user-friendly.",
                  type: "terminal_text",
                });
                output.push({ text: "", type: "terminal_text" });
                output.push({
                  text: "When I'm not coding, you can find me exploring new technologies, reading, or working on creative coding projects.",
                  type: "terminal_text",
                });
                output.push({ text: "", type: "terminal_text" });
                output.push({
                  text: "Type 'about --skills' to see my technical skills.",
                  type: "terminal_text",
                });
              }

              return output;
            },
          },
          projects: {
            description: "List my projects",
            usage: "projects [project-number]",
            action: function (args) {
              let output = [];

              if (args[0] === "--help") {
                output.push({
                  text: "Usage: projects [project-number]",
                  type: "terminal_text",
                });
                output.push({
                  text: "List my projects or show details about a specific project.",
                  type: "terminal_text",
                });
                output.push({ text: "Options:", type: "terminal_text" });
                output.push({
                  text: "  project-number    Show details about a specific project (1-3)",
                  type: "terminal_text",
                });
                return output;
              }

              if (args.length && !isNaN(args[0])) {
                const projectIndex = parseInt(args[0]) - 1;
                if (projectIndex >= 0 && projectIndex < projects.length) {
                  const project = projects[projectIndex];
                  output.push({
                    text: `Project: ${project.name}`,
                    type: "terminal_success",
                  });
                  output.push({
                    text: `Description: ${project.description}`,
                    type: "terminal_text",
                  });
                  output.push({
                    text: `Technologies: ${project.tech.join(", ")}`,
                    type: "terminal_text",
                  });
                } else {
                  output.push({
                    text: `Error: Project number ${args[0]} not found. Please enter a number between 1 and ${projects.length}.`,
                    type: "terminal_error",
                  });
                }
              } else {
                output.push({ text: "My Projects:", type: "terminal_text" });
                projects.forEach((project, index) => {
                  output.push({
                    text: `${index + 1}. ${project.name}`,
                    type: "terminal_text",
                  });
                });
                output.push({ text: "", type: "terminal_text" });
                output.push({
                  text: "Type 'projects [number]' to see details about a specific project.",
                  type: "terminal_text",
                });
              }

              return output;
            },
          },
          contact: {
            description: "Show my contact information",
            usage: "contact",
            action: function () {
              let output = [];
              output.push({
                text: "Contact Information:",
                type: "terminal_text",
              });
              output.push({
                text: "Email: malavika.s212@gmail.com",
                type: "terminal_text",
              });
              output.push({
                text: "GitHub: https://github.com/malavikaswapna",
                type: "terminal_text",
              });
              output.push({
                text: "LinkedIn: https://www.linkedin.com/in/malavika-swapana-321b92283",
                type: "terminal_text",
              });
              output.push({ text: "", type: "terminal_text" });
              output.push({
                text: "Or use the contact form on the main page to send me a message directly.",
                type: "terminal_text",
              });
              return output;
            },
          },
          clear: {
            description: "Clear the terminal",
            usage: "clear",
            action: function () {
              terminalOutput.innerHTML = "";
              return [];
            },
          },
          cls: {
            description: "Clear the terminal (alias for clear)",
            usage: "cls",
            action: function () {
              return commands.clear.action();
            },
          },
          echo: {
            description: "Display a message",
            usage: "echo [message]",
            action: function (args) {
              if (args[0] === "--help") {
                return [
                  { text: "Usage: echo [message]", type: "terminal_text" },
                  {
                    text: "Display a message on the terminal.",
                    type: "terminal_text",
                  },
                ];
              }
              return [{ text: args.join(" "), type: "terminal_text" }];
            },
          },
          date: {
            description: "Display the current date and time",
            usage: "date",
            action: function () {
              const now = new Date();
              return [{ text: now.toString(), type: "terminal_text" }];
            },
          },
          ls: {
            description: "List directory contents",
            usage: "ls",
            action: function () {
              return [
                { text: "about.txt", type: "terminal_text" },
                { text: "projects.json", type: "terminal_text" },
                { text: "skills.csv", type: "terminal_text" },
                { text: "contact.md", type: "terminal_text" },
                { text: "resume.pdf", type: "terminal_text" },
              ];
            },
          },
          cat: {
            description: "Display file contents",
            usage: "cat [filename]",
            action: function (args) {
              if (args.length === 0 || args[0] === "--help") {
                return [
                  { text: "Usage: cat [filename]", type: "terminal_text" },
                  {
                    text: "Display the contents of a file.",
                    type: "terminal_text",
                  },
                  {
                    text: "Available files: about.txt, projects.json, skills.csv, contact.md",
                    type: "terminal_text",
                  },
                ];
              }

              const filename = args[0];
              let output = [];

              switch (filename) {
                case "about.txt":
                  return commands.about.action([]);
                case "projects.json":
                  output.push({
                    text: JSON.stringify(projects, null, 2),
                    type: "terminal_text",
                  });
                  break;
                case "skills.csv":
                  output.push({ text: "name,level", type: "terminal_text" });
                  skills.forEach((skill) => {
                    output.push({
                      text: `${skill.name},${skill.level}`,
                      type: "terminal_text",
                    });
                  });
                  break;
                case "contact.md":
                  return commands.contact.action();
                case "resume.pdf":
                  output.push({
                    text: "Error: Binary file cannot be displayed in terminal.",
                    type: "terminal_error",
                  });
                  break;
                default:
                  output.push({
                    text: `Error: File '${filename}' not found.`,
                    type: "terminal_error",
                  });
              }

              return output;
            },
          },
          whoami: {
            description: "Display current user",
            usage: "whoami",
            action: function () {
              return [{ text: "visitor", type: "terminal_text" }];
            },
          },
          pwd: {
            description: "Print working directory",
            usage: "pwd",
            action: function () {
              return [
                {
                  text: "/home/visitor/pixel-portfolio",
                  type: "terminal_text",
                },
              ];
            },
          },
          logo: {
            description: "Display portfolio logo",
            usage: "logo",
            action: function () {
              return [{ text: asciiLogo, type: "ascii-art" }];
            },
          },
          game: {
            description: "Play a mini game",
            usage: "game",
            action: function () {
              let output = [];
              output.push({
                text: "Let's play a guessing game!",
                type: "terminal_text",
              });
              output.push({
                text: "I'm thinking of a number between 1 and 10.",
                type: "terminal_text",
              });
              output.push({
                text: "Type 'game [number]' to make a guess.",
                type: "terminal_text",
              });

              // Generate random number for the game
              window.gameNumber = Math.floor(Math.random() * 10) + 1;
              window.gameActive = true;

              return output;
            },
          },
          social: {
            description: "Show my social media links",
            usage: "social",
            action: function () {
              return [
                {
                  text: "GitHub: https://github.com/malavikaswapna",
                  type: "terminal_text",
                },
                {
                  text: "LinkedIn: https://www.linkedin.com/in/malavika-swapana-321b92283",
                  type: "terminal_text",
                },
              ];
            },
          },
          theme: {
            description: "Change terminal theme",
            usage: "theme [color]",
            action: function (args) {
              if (args.length === 0 || args[0] === "--help") {
                return [
                  { text: "Usage: theme [color]", type: "terminal_text" },
                  {
                    text: "Change the terminal theme color.",
                    type: "terminal_text",
                  },
                  {
                    text: "Available themes: default, blue, green, pink, orange",
                    type: "terminal_text",
                  },
                ];
              }

              const theme = args[0].toLowerCase();

              // Remove any existing theme classes
              terminalContainer.classList.remove(
                "theme-blue",
                "theme-green",
                "theme-pink",
                "theme-orange"
              );

              switch (theme) {
                case "blue":
                  terminalContainer.classList.add("theme-blue");
                  return [
                    {
                      text: "Theme changed to blue.",
                      type: "terminal_success",
                    },
                  ];
                case "green":
                  terminalContainer.classList.add("theme-green");
                  return [
                    {
                      text: "Theme changed to green.",
                      type: "terminal_success",
                    },
                  ];
                case "pink":
                  terminalContainer.classList.add("theme-pink");
                  return [
                    {
                      text: "Theme changed to pink.",
                      type: "terminal_success",
                    },
                  ];
                case "orange":
                  terminalContainer.classList.add("theme-orange");
                  return [
                    {
                      text: "Theme changed to orange.",
                      type: "terminal_success",
                    },
                  ];
                case "default":
                  return [
                    {
                      text: "Theme reset to default.",
                      type: "terminal_success",
                    },
                  ];
                default:
                  return [
                    {
                      text: `Error: Theme '${theme}' not found.`,
                      type: "terminal_error",
                    },
                  ];
              }
            },
          },
        };

        // Function to create a terminal line element
        function createTerminalLine(text, type = "terminal_text") {
          const line = document.createElement("div");
          line.className = "terminal_line";

          const content = document.createElement("span");
          content.className = type;

          if (type === "ascii-art") {
            content.innerText = text;
          } else {
            content.textContent = text;
          }

          line.appendChild(content);
          return line;
        }

        // Function to add text to terminal with typewriter effect
        function addTerminalText(text, type = "terminal_text", delay = 30) {
          return new Promise((resolve) => {
            const line = document.createElement("div");
            line.className = "terminal_line";

            const content = document.createElement("span");
            content.className = type;

            if (type === "ascii-art") {
              content.innerText = text;
              line.appendChild(content);
              terminalOutput.appendChild(line);
              terminalBody.scrollTop = terminalBody.scrollHeight;
              resolve();
            } else {
              line.appendChild(content);
              terminalOutput.appendChild(line);

              let i = 0;
              const typeWriter = () => {
                if (i < text.length) {
                  content.textContent += text.charAt(i);
                  i++;
                  terminalBody.scrollTop = terminalBody.scrollHeight;
                  setTimeout(typeWriter, delay);
                } else {
                  resolve();
                }
              };

              typeWriter();
            }
          });
        }

        // Process a command
        async function processCommand(commandText) {
          // Add command to history
          commandHistory.push(commandText);
          historyIndex = commandHistory.length;

          // Parse command and arguments
          const args = commandText.trim().split(/\s+/);
          const cmd = args.shift().toLowerCase();

          // Add the command to output
          const commandLine = createTerminalLine(
            `${cmd} ${args.join(" ")}`,
            "terminal_text"
          );
          terminalOutput.appendChild(commandLine);

          // Check for game command
          if (window.gameActive && cmd === "game" && args.length) {
            const guess = parseInt(args[0]);
            if (!isNaN(guess)) {
              if (guess === window.gameNumber) {
                await addTerminalText(
                  "Congratulations! You guessed the right number!",
                  "terminal_success"
                );
                window.gameActive = false;
              } else if (guess < window.gameNumber) {
                await addTerminalText(
                  "Too low! Try a higher number.",
                  "terminal_warning"
                );
              } else {
                await addTerminalText(
                  "Too high! Try a lower number.",
                  "terminal_warning"
                );
              }
              terminalBody.scrollTop = terminalBody.scrollHeight;
              return;
            }
          }

          // Process commands
          if (commands[cmd]) {
            // Show loading indicator for some commands
            if (["projects", "about", "logo"].includes(cmd)) {
              const loadingLine = createTerminalLine(
                "Loading...",
                "terminal_loading"
              );
              terminalOutput.appendChild(loadingLine);
              terminalBody.scrollTop = terminalBody.scrollHeight;

              // Simulate loading delay
              await new Promise((resolve) => setTimeout(resolve, 500));
              terminalOutput.removeChild(loadingLine);
            }

            const output = commands[cmd].action(args);

            // Add response lines
            for (const line of output) {
              await addTerminalText(line.text, line.type);
            }
          } else if (cmd) {
            await addTerminalText(
              `Command not found: ${cmd}. Type 'help' to see available commands.`,
              "terminal_error"
            );
          }

          terminalBody.scrollTop = terminalBody.scrollHeight;
        }

        // Initialize terminal
        function initTerminal() {
          // Display welcome message
          welcomeMessages.forEach(async (msg, index) => {
            setTimeout(() => {
              addTerminalText(msg.text, msg.type);
            }, index * 100);
          });

          // Focus input when terminal is clicked
          terminalBody.addEventListener("click", function () {
            terminalInput.focus();
          });

          // Handle input
          terminalInput.addEventListener("keydown", function (e) {
            // Enter key
            if (e.key === "Enter") {
              e.preventDefault();
              const command = terminalInput.textContent.trim();
              terminalInput.textContent = "";

              if (command) {
                processCommand(command);
              }
            }
            // Up arrow - navigate command history
            else if (e.key === "ArrowUp") {
              e.preventDefault();
              if (historyIndex > 0) {
                historyIndex--;
                terminalInput.textContent = commandHistory[historyIndex];
                // Move cursor to end
                const range = document.createRange();
                const sel = window.getSelection();
                range.setStart(terminalInput, 1);
                range.collapse(true);
                sel.removeAllRanges();
                sel.addRange(range);
              }
            }
            // Down arrow - navigate command history
            else if (e.key === "ArrowDown") {
              e.preventDefault();
              if (historyIndex < commandHistory.length - 1) {
                historyIndex++;
                terminalInput.textContent = commandHistory[historyIndex];
              } else if (historyIndex === commandHistory.length - 1) {
                historyIndex = commandHistory.length;
                terminalInput.textContent = "";
              }
            }
            // Tab completion
            else if (e.key === "Tab") {
              e.preventDefault();
              const currentInput = terminalInput.textContent
                .trim()
                .toLowerCase();

              if (currentInput) {
                const matches = Object.keys(commands).filter((cmd) =>
                  cmd.startsWith(currentInput)
                );

                if (matches.length === 1) {
                  terminalInput.textContent = matches[0] + " ";
                } else if (matches.length > 1) {
                  // Display all matching commands
                  const commandLine = createTerminalLine(
                    currentInput,
                    "terminal_text"
                  );
                  terminalOutput.appendChild(commandLine);

                  const matchesLine = createTerminalLine(
                    matches.join("  "),
                    "terminal_text"
                  );
                  terminalOutput.appendChild(matchesLine);

                  terminalBody.scrollTop = terminalBody.scrollHeight;
                }
              }
            }
          });
        }

        // Add custom themes
        function addTerminalThemes() {
          // Check if theme styles already exist
          if (!document.getElementById("terminal-themes")) {
            const styleElement = document.createElement("style");
            styleElement.id = "terminal-themes";
            styleElement.textContent = `
                        /* Terminal themes */
                        .theme-blue .terminal_toolbar {
                            background: #4878c0;
                        }
                        .theme-blue .terminal_body {
                            background: #223a5e;
                        }
                        
                        .theme-green .terminal_toolbar {
                            background: #27c93f;
                        }
                        .theme-green .terminal_body {
                            background: #0f3f1a;
                        }
                        
                        .theme-pink .terminal_toolbar {
                            background: #ff6b9d;
                        }
                        .theme-pink .terminal_body {
                            background: #5f2e44;
                        }
                        
                        .theme-orange .terminal_toolbar {
                            background: #ff9f43;
                        }
                        .theme-orange .terminal_body {
                            background: #994f15;
                        }
                    `;
            document.head.appendChild(styleElement);
          }
        }

        // Setup cursor functionality
        function setupCursor() {
          const input = document.getElementById("terminal-input");
          const cursor = document.querySelector(".terminal_cursor");
          const inputContainer = document.querySelector(".input-container");

          function updateCursorPosition() {
            const selection = window.getSelection();
            const range = selection.getRangeAt(0);

            // Create a range from the start of the input to the caret position
            const caretRange = document.createRange();
            caretRange.setStart(input, 0);
            caretRange.setEnd(range.endContainer, range.endOffset);

            // Create a temporary element to measure the text width
            const tempSpan = document.createElement("span");
            tempSpan.style.visibility = "hidden";
            tempSpan.style.position = "absolute";
            tempSpan.style.whiteSpace = "pre";
            tempSpan.style.font = window.getComputedStyle(input).font;
            tempSpan.textContent = caretRange.toString();

            document.body.appendChild(tempSpan);
            const width = tempSpan.getBoundingClientRect().width;
            document.body.removeChild(tempSpan);

            // Position the cursor
            cursor.style.left = width + "px";
          }

          // Focus input and position cursor when terminal is clicked
          document
            .querySelector(".terminal_body")
            .addEventListener("click", function (e) {
              // Only focus if clicking directly on the terminal body (not on existing text)
              if (e.target === this || e.target === inputContainer) {
                input.focus();

                // Move cursor to end of text
                const range = document.createRange();
                const sel = window.getSelection();
                range.selectNodeContents(input);
                range.collapse(false);
                sel.removeAllRanges();
                sel.addRange(range);

                updateCursorPosition();
              }
            });

          // Update cursor position when input changes
          input.addEventListener("input", updateCursorPosition);
          input.addEventListener("keydown", function (e) {
            // Delayed update for keydown events to catch cursor movement
            setTimeout(updateCursorPosition, 0);
          });
          input.addEventListener("click", function (e) {
            e.stopPropagation();
            updateCursorPosition();
          });

          // Initial focus and cursor position
          input.focus();
          updateCursorPosition();
        }

        // Start the terminal
        initTerminal();
        addTerminalThemes();
        setupCursor();

        // Enable terminal input
        terminalInput.focus();
      });
    </script>
  </body>
</html>
